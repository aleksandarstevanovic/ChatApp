{"version":3,"sources":["icons/send-button.png","../node_modules/keyv/src sync","../node_modules/got/source sync","Components/Signup.js","Components/MessageList.js","Components/Input.js","Components/RoomList.js","Components/NewRoomForm.js","Components/ChatApp.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","Signup","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","username","handleChange","bind","assertThisInitialized","handleSubmit","setState","target","value","preventDefault","onSubmit","react_default","a","createElement","className","type","name","onChange","placeholder","Component","MessageList","node","ReactDOM","findDOMNode","scrollTop","scrollHeight","roomId","messages","map","message","index","key","senderId","currentUser","text","Input","disabled","RoomList","rooms","room","active","onClick","subscribeToRoom","href","NewRoomForm","roomName","createRoom","ChatApp","currentRoom","users","joinableRooms","joinedRooms","addMessage","getRooms","_this2","ChatManager","instanceLocator","userId","currentId","tokenProvider","TokenProvider","url","connect","then","catch","error","console","log","sendMessage","_this3","getJoinableRooms","err","_this4","messageLimit","hooks","onMessage","concat","toConsumableArray","_this5","length","Components_RoomList","Components_NewRoomForm","Components_MessageList","Components_Input","chatkit","require","default","App","currentUsername","currentView","changeView","createUser","status","view","Components_Signup","Components_ChatApp","Boolean","window","location","hostname","match","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0713c477.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAV1BMVEUAAAAAef8Ae/8Ae/8Acf8Aev8Aev8Adv8Aev8Aev8AfP8Aev8Aef8Ae/8AeP8AeP8Ae/8Aev8Aev8Aef8Aev8Aev8AgP8Abf8AeP8Aev8Aef8Aev8AAAD0TBERAAAAG3RSTlMAN8xmCeiIHPmqRPekNhEzVXeZu939CAci8zvVin8nAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+MFGQAEL3ZIrLQAAAEESURBVFjD7ZfbDoIwEEQrKIJ4v8v8/39qojEI3e5ON74x7z3MKbS0IUwJMy8ARTn3AYBFtfQBgLpZ+QCvZJvgm0wT9JJlgt/wJhiGNcE4nAmiIUwgxGwCMUYTpGIxQTq6CbRoJipAM7EAkiY2QMLEChBNCEDcpKUIqNebIWG72x+Op/OFMLnG5uJ2X5VVUzyc78RaSF8neiHBhCnE7F1CIfveJQK6vynkT6L1NXb8I6Xu3k+5NQ98dx8tJmp4bN6J4fF5N3eXvpn87gQgufDyu9sAzl+bZdPI764AnAcM44YnAIzdJYDzmEd0jwCcR13nYZvv3gc4LxzOK09290/c174p4QllLZhNLmS29QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wNS0yNFQyMjowNDo0NyswMjowMImoZZYAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMDUtMjRUMjI6MDQ6NDcrMDI6MDD49d0qAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 256;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 264;","\r\n    import React, {Component} from 'react';\r\n    import send from '../icons/send-button.png'\r\n\r\n\r\n\r\n    class  Signup extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                username: \"\",\r\n            }\r\n            this.handleChange = this.handleChange.bind(this);\r\n            this.handleSubmit = this.handleSubmit.bind(this);\r\n        }\r\n        handleChange(e) {\r\n            this.setState({username: e.target.value});\r\n        }\r\n        handleSubmit(e) {\r\n            e.preventDefault()\r\n            this.props.onSubmit(this.state.username);\r\n        }\r\n        render() {\r\n            return(\r\n                <div className=\"form-container\">\r\n\r\n                    <h1>Sign in</h1>\r\n                    <form onSubmit={this.handleSubmit} className=\"form\">\r\n\r\n                        <input type=\"text\" name=\"username\" onChange={this.handleChange} placeholder='Enter username' className=\"input\" />\r\n                        <button className=\"submit sing-in-button\">Sign in</button>\r\n                    </form>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    export default Signup;\r\n","import React, {Component} from 'react';\r\nimport ReactDOM from 'react-dom'\r\n\r\n  class MessageList extends Component {\r\n\r\n\r\n\r\n componentDidUpdate(){\r\n   const node=ReactDOM.findDOMNode(this)\r\n   node.scrollTop=node.scrollHeight\r\n }\r\n\r\n      render() {\r\n\r\n        if(!this.props.roomId){\r\n          return(\r\n            <div className='message-list'>\r\n            <div className='join-room'>\r\n            &larr;Join a room!\r\n            </div>\r\n            </div>\r\n          )\r\n        }\r\n        else{\r\n\r\n          return(\r\n\r\n              <ul className=\"message-list\">\r\n                  {this.props.messages.map((message, index) => (\r\n                      <li key={index}>\r\n                          <p className=\"message-sender\">{message.senderId}</p>\r\n                          <p className={(this.props.currentUser.id===message.senderId )? 'sent-messages':'received-messages'}>{message.text}</p>\r\n                      </li>\r\n                  ))}\r\n                  <li></li>\r\n              </ul>\r\n\r\n          )\r\n      }\r\n    }\r\n  }\r\n  export default MessageList;\r\n","import React, {Component} from 'react';\r\n\r\n\r\n class Input extends Component {\r\n     constructor(props) {\r\n         super(props);\r\n         this.state = {\r\n             message: \"\"\r\n         }\r\n         this.handleChange = this.handleChange.bind(this);\r\n         this.handleSubmit = this.handleSubmit.bind(this);\r\n     }\r\n     handleChange(e) {\r\n         this.setState({\r\n             message: e.target.value\r\n         })\r\n     }\r\n     handleSubmit(e) {\r\n         e.preventDefault();\r\n         this.props.onSubmit(this.state.message);\r\n         this.setState({\r\n             message: ''\r\n         })\r\n     }\r\n     render() {\r\n         return (\r\n             <form onSubmit={this.handleSubmit} className=\"input-field\">\r\n\r\n                 <input disabled={this.props.disabled} className=\"message-input\" type=\"text\"\r\n                 onChange={this.handleChange}\r\n                 value={this.state.message}\r\n                 placeholder='Type a message...'\r\n                 />\r\n                 <button className=\"submit send-button\" disabled={this.props.disabled}></button>\r\n\r\n\r\n             </form>\r\n         )\r\n     }\r\n }\r\n export default Input;\r\n","import React, {Component} from 'react';\r\n\r\n  class RoomList extends Component {\r\n      render() {\r\n\r\n          return(\r\n            <div className='room-list'>\r\n            <ul>\r\n            <h2>ROOMS:</h2>\r\n            <hr/>\r\n            {this.props.rooms.map(room=>{\r\n              const active=this.props.roomId===room.id ? 'active':'';\r\n\r\n              return(\r\n                <li key={room.id} className={'room ' + active}>\r\n                 <a onClick={()=>this.props.subscribeToRoom(room.id)}\r\n                 href=\"#\">#{room.name}</a>\r\n                </li>\r\n              )\r\n            }\r\n\r\n            )}\r\n            </ul>\r\n\r\n            </div>\r\n          )\r\n      }\r\n  }\r\n  export default RoomList;\r\n","import React, {Component} from 'react';\r\n\r\n\r\n  class NewRoomForm extends Component {\r\n  constructor(){\r\n    super()\r\n    this.state={\r\n      roomName:''\r\n    }\r\n    this.handleChange=this.handleChange.bind(this);\r\n    this.handleSubmit=this.handleSubmit.bind(this);\r\n  }\r\n\r\n\r\n  handleChange(e){\r\n    this.setState({\r\n      roomName:e.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit(e){\r\n    e.preventDefault()\r\n    this.props.createRoom(this.state.roomName)\r\n    this.setState({roomName:''})\r\n  }\r\n\r\n      render() {\r\n          return(\r\n\r\n                <form onSubmit={this.handleSubmit} className=\"new-room-form\">\r\n                <input\r\n                className='room-input'\r\n                value={this.state.roomName}\r\n                onChange={this.handleChange}\r\n                type='text' placeholder='Create a room'/>\r\n                <button className=\"submit room-button\"></button>\r\n                </form>\r\n\r\n              \r\n          )\r\n      }\r\n  }\r\n  export default NewRoomForm;\r\n","import React, {Component} from 'react';\r\n    import { ChatManager, TokenProvider } from '@pusher/chatkit-client';\r\n     import MessageList from './MessageList';\r\n    import Input from './Input';\r\n     import RoomList from './RoomList';\r\n     import NewRoomForm from './NewRoomForm';\r\n\r\n    class ChatApp extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                currentUser: null,\r\n                currentRoom: null,\r\n                messages: [],\r\n                users: [],\r\n                joinableRooms:[],\r\n                joinedRooms:[]\r\n            }\r\n            this.addMessage = this.addMessage.bind(this);\r\n            this.subscribeToRoom=this.subscribeToRoom.bind(this);\r\n            this.getRooms=this.getRooms.bind(this);\r\n            this.createRoom=this.createRoom.bind(this);\r\n        }\r\n\r\n      componentDidMount() {\r\n            const chatManager = new ChatManager({\r\n                instanceLocator: \"v1:us1:80da3bcd-d4e3-46e8-93e7-c42957efd993\",\r\n                userId: this.props.currentId,\r\n                tokenProvider: new TokenProvider({\r\n                    url: \"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/80da3bcd-d4e3-46e8-93e7-c42957efd993/token\"\r\n                })\r\n            })\r\n\r\n            chatManager\r\n                .connect()\r\n                .then(currentUser => {\r\n\r\n                    this.setState({ currentUser: currentUser })\r\n                  this.getRooms()\r\n\r\n                  })\r\n\r\n\r\n                .catch(error => console.log(error))\r\n              }\r\n\r\n\r\n\r\n          addMessage(text) {\r\n          this.state.currentUser.sendMessage({\r\n              text,\r\n              roomId: this.state.currentRoom\r\n          })\r\n          .catch(error => console.error('error', error));\r\n      }\r\n\r\n\r\n      getRooms(){\r\n        this.state.currentUser.getJoinableRooms()\r\n        .then(joinableRooms=>{\r\n          this.setState({\r\n            joinableRooms,\r\n            joinedRooms:this.state.currentUser.rooms,\r\n\r\n          })\r\n        }).catch(err=>console.log(err))\r\n      }\r\n\r\n      subscribeToRoom(roomId){\r\n        this.setState({messages:[]})\r\n        return   this.state.currentUser.subscribeToRoom({\r\n            roomId: roomId,\r\n            messageLimit: 100,\r\n            hooks: {\r\n                onMessage: message => {\r\n                    this.setState({\r\n                        messages: [...this.state.messages, message],\r\n                        currentRoom:roomId\r\n                    })\r\n                },\r\n            }\r\n        })\r\n      }\r\n\r\n      createRoom(name){\r\n\r\n        if(name.length>0){\r\n      this.state.currentUser.createRoom({\r\n\r\n        name\r\n      })\r\n      .then((room)=>{this.subscribeToRoom(room.id);this.getRooms();this.setState({currentRoom:room.id})})\r\n      .catch(err=>console.log(err))\r\n      }\r\n    }\r\n\r\n        render() {\r\n            \r\n            return (\r\n              <div className='proba'>\r\n\r\n\r\n                   <RoomList\r\n                    roomId={this.state.currentRoom}\r\n                    subscribeToRoom={this.subscribeToRoom}\r\n                    rooms={[...this.state.joinableRooms,...this.state.joinedRooms]}/>\r\n                    <NewRoomForm createRoom={this.createRoom}/>\r\n\r\n                   <MessageList  currentUser={this.state.currentUser} roomId={this.state.currentRoom} messages={this.state.messages} />\r\n                   <Input disabled={!this.state.currentRoom} className=\"input-field\" onSubmit={this.addMessage} />\r\n\r\n               </div>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n   export default ChatApp;\r\n"," import React, { Component } from 'react';\n import Signup from './Components/Signup';\n import ChatApp from './Components/ChatApp';\n import RoomList from './Components/RoomList';\n\n\n const Chatkit = require(\"@pusher/chatkit-server\");\n const chatkit = new Chatkit.default({\n     instanceLocator: \"v1:us1:80da3bcd-d4e3-46e8-93e7-c42957efd993\",\n     key: \"188a2026-3224-4f8b-b87c-22d477a884d2:KcRK0XLchyoP2SwhwFgIyHy6ETJz48OGESBT0NGIp/M=\"\n   })\n\n\n\n   class App extends Component {\n           constructor(props) {\n               super(props);\n               this.state = {\n                   currentUsername: '',\n                   currentId: '',\n                   currentView: 'signup'\n               }\n               this.changeView = this.changeView.bind(this);\n               this.createUser = this.createUser.bind(this);\n           }\n\n           createUser(username) {\n               chatkit.createUser({\n                   id: username,\n                   name: username,\n               })\n               .then((currentUser) => {\n                   this.setState({\n                       currentUsername: username,\n                       currentId: username,\n                       currentView: 'chatApp'\n                   })\n               }).catch((err) => {\n                        if(err.status === 400) {\n                       this.setState({\n                           currentUsername: username,\n                           currentId: username,\n                           currentView: 'chatApp'\n                       })\n                   } else {\n                       console.log(err.status);\n                   }\n               });\n           }\n\n         changeView(view) {\n             this.setState({\n                 currentView: view\n             })\n         }\n\n         render() {\n           let view ='';\n           if (this.state.currentView === \"signup\") {\n               view = <Signup onSubmit={this.createUser}/>\n           } else if (this.state.currentView === \"chatApp\") {\n               view = <ChatApp currentId={this.state.currentId} />\n           }\n           return (\n               <div className=\"App\">\n                   {view}\n\n               </div>\n           );\n       }\n       }\n       export default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}